<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–°—á–µ—Ç—á–∏–∫ –Ω–∞—Å—Ç–æ–ª—å–Ω–æ–≥–æ —Ç–µ–Ω–Ω–∏—Å–∞</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéæ –°—á–µ—Ç—á–∏–∫ –Ω–∞—Å—Ç–æ–ª—å–Ω–æ–≥–æ —Ç–µ–Ω–Ω–∏—Å–∞</h1>
            <div class="match-info">
                <div class="sets-info">
                    <div>–°–µ—Ç: <span id="currentSet">1</span>/<span id="totalSets">5</span></div>
                    <div>–ò–≥—Ä–∞ –¥–æ: <span id="pointsToWin">11</span></div>
                </div>
                <div class="settings-btn" id="settingsBtn">‚öôÔ∏è</div>
            </div>
        </header>

        <main>
            <div class="scoreboard">
                <!-- –ò–≥—Ä–æ–∫ 1 -->
                <div class="player" id="player1">
                    <div class="player-header">
                        <input type="text" class="player-name" value="–ò–≥—Ä–æ–∫ 1" maxlength="15">
                        <button class="player-color-btn" data-player="1">üé®</button>
                    </div>
                    <div class="score-display">
                        <div class="current-score" id="score1">0</div>
                    </div>
                    <div class="sets-display">
                        <div class="sets-container" id="sets1"></div>
                    </div>
                    <div class="score-controls">
                        <button class="btn-minus" data-player="1">-</button>
                        <button class="btn-plus" data-player="1">+</button>
                    </div>
                </div>

                <div class="vs">VS</div>

                <!-- –ò–≥—Ä–æ–∫ 2 -->
                <div class="player" id="player2">
                    <div class="player-header">
                        <input type="text" class="player-name" value="–ò–≥—Ä–æ–∫ 2" maxlength="15">
                        <button class="player-color-btn" data-player="2">üé®</button>
                    </div>
                    <div class="score-display">
                        <div class="current-score" id="score2">0</div>
                    </div>
                    <div class="sets-display">
                        <div class="sets-container" id="sets2"></div>
                    </div>
                    <div class="score-controls">
                        <button class="btn-minus" data-player="2">-</button>
                        <button class="btn-plus" data-player="2">+</button>
                    </div>
                </div>
            </div>

            <div class="match-controls">
                <button id="undoBtn" class="btn-secondary">‚Ü∂ –û—Ç–º–µ–Ω–∏—Ç—å</button>
                <button id="newSetBtn" class="btn-primary">–ù–æ–≤—ã–π —Å–µ—Ç</button>
                <button id="newMatchBtn" class="btn-danger">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
            </div>

            <div class="history">
                <h3>–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä—ã</h3>
                <div id="historyLog"></div>
            </div>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="totalSetsSelect">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ç–æ–≤:</label>
                    <select id="totalSetsSelect">
                        <option value="3">3 (–ø–æ–±–µ–¥–∏—Ç 2)</option>
                        <option value="5" selected>5 (–ø–æ–±–µ–¥–∏—Ç 3)</option>
                        <option value="7">7 (–ø–æ–±–µ–¥–∏—Ç 4)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="pointsToWinSelect">–û—á–∫–æ–≤ –¥–ª—è –ø–æ–±–µ–¥—ã –≤ —Å–µ—Ç–µ:</label>
                    <select id="pointsToWinSelect">
                        <option value="11" selected>11 –æ—á–∫–æ–≤</option>
                        <option value="21">21 –æ—á–∫–æ</option>
                        <option value="31">31 –æ—á–∫–æ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="minLeadSelect">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞:</label>
                    <select id="minLeadSelect">
                        <option value="2" selected>2 –æ—á–∫–∞</option>
                        <option value="1">1 –æ—á–∫–æ</option>
                    </select>
                </div>
                <div class="color-picker">
                    <h4>–¶–≤–µ—Ç–∞ –∏–≥—Ä–æ–∫–æ–≤:</h4>
                    <div class="color-options">
                        <div class="color-option" style="background-color: #3498db;" data-color="#3498db" data-player="1"></div>
                        <div class="color-option" style="background-color: #e74c3c;" data-color="#e74c3c" data-player="2"></div>
                        <div class="color-option" style="background-color: #2ecc71;" data-color="#2ecc71"></div>
                        <div class="color-option" style="background-color: #f39c12;" data-color="#f39c12"></div>
                        <div class="color-option" style="background-color: #9b59b6;" data-color="#9b59b6"></div>
                        <div class="color-option" style="background-color: #1abc9c;" data-color="#1abc9c"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="saveSettings" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞ -->
    <div id="colorModal" class="modal">
        <div class="modal-content small">
            <div class="modal-header">
                <h3>–í—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="color-options-grid">
                    <div class="color-option" style="background-color: #3498db;" data-color="#3498db"></div>
                    <div class="color-option" style="background-color: #e74c3c;" data-color="#e74c3c"></div>
                    <div class="color-option" style="background-color: #2ecc71;" data-color="#2ecc71"></div>
                    <div class="color-option" style="background-color: #f39c12;" data-color="#f39c12"></div>
                    <div class="color-option" style="background-color: #9b59b6;" data-color="#9b59b6"></div>
                    <div class="color-option" style="background-color: #1abc9c;" data-color="#1abc9c"></div>
                    <div class="color-option" style="background-color: #34495e;" data-color="#34495e"></div>
                    <div class="color-option" style="background-color: #e67e22;" data-color="#e67e22"></div>
                    <div class="color-option" style="background-color: #16a085;" data-color="#16a085"></div>
                    <div class="color-option" style="background-color: #8e44ad;" data-color="#8e44ad"></div>
                    <div class="color-option" style="background-color: #27ae60;" data-color="#27ae60"></div>
                    <div class="color-option" style="background-color: #d35400;" data-color="#d35400"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
